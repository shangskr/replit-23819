import{u as $n,a as k,b as I,s as ce,n as B,c as Xt,p as ae,g as Sn,f as xn,_ as Jt,l as nt,d as U,e as ct,o as O,h as n,M as Q,i as ee,j as X,k as te,S as M,I as Pe,T as kn,F as Mn,m as de,B as R,q as ne,r as he,t as ve,v as On,w as En,x as Tn,y as ut,L as Zt,z as An,A as Fn,C as Rn,D as me,E as Me,G as Oe,H as He,J as dt,K as ht,N as De,O as Ne,P as q,Q as x,R as Pn,U as F,V as re,W as Dn,X as In,Y as Ee,Z as Ln,$ as Yt,a0 as jn,a1 as Vn,a2 as z,a3 as Bn,a4 as Ie,a5 as Le,a6 as Te,a7 as gt,a8 as zn,a9 as Se,aa as Ge,ab as ft,ac as ue,ad as Qt,ae as Hn,af as mt,ag as Nn,ah as Un,ai as p,aj as pt,ak as je,al as Xe,am as en,an as oe,ao as qn,ap as Wn,aq as Kn,ar as pe,as as tn,at as Gn,au as Xn,av as E,aw as Ue,ax as nn,ay as rn,az as Jn,aA as Zn,aB as Yn,aC as Ct,aD as on,aE as Qn,aF as er,aG as tr,aH as nr,aI as rr,aJ as or,aK as $t,aL as ar,aM as ir,aN as sr,aO as lr,aP as W,aQ as cr,aR as K,aS as ur,aT as dr,aU as hr,aV as gr,aW as fr,aX as mr,aY as pr,aZ as br,a_ as Ve,a$ as wr,b0 as vr,b1 as St,b2 as yr,b3 as _r,b4 as Cr,b5 as $r,b6 as Sr,b7 as xr,b8 as kr,b9 as Mr,ba as Or,bb as Er,bc as Tr,bd as Ar,be as Fr,bf as xt,bg as Rr,bh as Pr,bi as Dr,bj as Ir,bk as Lr,bl as jr,bm as Vr,bn as Br,bo as zr,bp as Hr,bq as Nr,br as Ur}from"./index.61cc187c.js";import{u as qr,B as an,a as sn,b as Wr,c as Kr}from"./index.756ec50d.js";import{u as V,r as Gr,a as Xr,b as Jr,R as Zr}from"./index.dc35529e.js";import{A as Yr,F as ln,C as Qr,a as eo,B as to,b as no,T as ro,c as kt}from"./index.85df4c51.js";import{M as bt}from"./FolderTree.03beb691.js";function Fe(e){return e==null||e===""}function oo(e){return e==null}async function ao(e,t){let r="/downloads/alist";const o=await Xt.post(e,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.getGlobalOption",params:["token:"+t]});return console.log(o),o.status===200&&(Fe(o.data.result.dir)||(r=o.data.result.dir),r=r.endsWith("/")?r.slice(0,-1):r),r}const io=()=>{const{rawLinks:e}=$n(),t=k(),{pathname:r}=I();return{batchDownloadSelected:()=>{e(!0).forEach(a=>{window.open(a,"_blank")})},sendToAria2:async()=>{const o=ce(),a=async(s,l)=>{var u;if(l.is_dir){const d=await xn(ae(r(),s,l.name),Jt());if(d.code!==200)return d.message;const g=[];for(const h of(u=d.data.content)!=null?u:[]){const y=await a(ae(s,l.name),h);if(typeof y=="string")return y;g.push(...y)}return g}else return[{path:ae(s,l.name),dir:s,url:Sn(ae(r(),s),l,"direct",!0),name:l.name}]},{aria2_rpc_url:i,aria2_rpc_secret:c}=nt;if(!i){B.warning(t("home.toolbar.aria2_not_set"));return}try{let s="/downloads/alist";s=await ao(i,c);let l=!1;B.info(`${t("home.package_download.fetching_struct")}`);for(const u of o){const d=await a("",u);if(typeof d!="object"||d.length===void 0)return B.error(`${t("home.package_download.fetching_struct_failed")}: ${d}`),d;for(let g=0;g<d.length;g++){if(Fe(d[g].path)||oo(d[g].dir)||Fe(d[g].url)||Fe(d[g].name)){B.error(`${t("home.package_download.fetching_struct_failed")}: ${JSON.stringify(d[g])}`);continue}l||(l=!0,B.info(`${t("home.package_download.downloading")}`));const h=await Xt.post(i,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+c,[d[g].url],{out:d[g].name,dir:s+d[g].dir,"check-certificate":"false"}]});console.log(h)}}B.success(t("home.toolbar.send_aria2_success"))}catch(s){console.error(s),B.error(`failed to send to aria2: ${s}`)}}}},qe=e=>{var s;const[t,r]=U((s=e.defaultValue)!=null?s:""),o=k();let a;const i=()=>{const l=t().lastIndexOf(".");setTimeout(()=>{l>0&&e.isRenamingFile?a.setSelectionRange(0,l):a.select()},10)};ct(()=>{a&&(a.focus(),i()),O(()=>{a&&a.setSelectionRange(0,0)})});const c=()=>{var l;if(!t()){B.warning(o("global.empty_input"));return}(l=e.onSubmit)==null||l.call(e,t()),r("")};return n(ne,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[n(Q,{}),n(ee,{get children(){return[n(X,{get children(){return o(e.title)}}),n(te,{get children(){return[n(M,{get when(){return e.topSlot},get children(){return e.topSlot}}),n(M,{get when(){return e.type==="text"},get fallback(){return n(Pe,{id:"modal-input",get type(){return e.type},get value(){return t()},ref:l=>a=l,onInput:l=>{r(l.currentTarget.value)},onFocus:i,onKeyDown:l=>{l.key==="Enter"&&c()}})},get children(){return n(kn,{id:"modal-input",get value(){return t()},ref:l=>a=l,onInput:l=>{r(l.currentTarget.value)},onFocus:i})}}),n(M,{get when(){return e.tips},get children(){return n(Mn,{get children(){return e.tips}})}})]}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return o("global.cancel")}}),n(R,{get loading(){return e.loading},onClick:()=>c(),get children(){return o("global.ok")}})]}})]}})]}})},so=()=>{const{pathname:e}=I(),t=he(()=>["",...e().split("/").filter(Boolean)]),r=k(),{setPathAs:o}=V();return n(Rn,{class:"nav",w:"$full",get children(){return n(ve,{get each(){return t()},children:(a,i)=>{const c=he(()=>i()===t().length-1),s=t().slice(0,i()+1).join("/"),l=On(s);let u=()=>a;return u()===""&&(u=()=>me("home_icon")+r("manage.sidemenu.home")),n(En,{class:"nav-item",get children(){return[n(Tn,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:ut(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return c()},get as(){return c()?void 0:Zt},get href(){return An(l)},onMouseEnter:()=>o(s),children:u}),n(M,{get when(){return!c()},get children(){return n(Fn,{class:"nav-separator"})}})]}})}})}})},lo=Me(()=>Oe(()=>import("./Folder.bba8b279.js").then(e=>e.F),["assets/Folder.bba8b279.js","assets/Folder.b511ba9e.css","assets/index.61cc187c.js","assets/index.15d8d646.css","assets/icon.b30a1fd9.js","assets/index.756ec50d.js","assets/index.85df4c51.js","assets/video_box.09519469.js","assets/index.dc35529e.js","assets/Paginator.7b9b9d31.js"])),co=Me(()=>Oe(()=>import("./File.03ff7245.js").then(e=>e.a),["assets/File.03ff7245.js","assets/index.61cc187c.js","assets/index.15d8d646.css","assets/icon.b30a1fd9.js","assets/index.756ec50d.js","assets/index.85df4c51.js"])),uo=Me(()=>Oe(()=>import("./Password.17ef0f04.js"),["assets/Password.17ef0f04.js","assets/index.61cc187c.js","assets/index.15d8d646.css","assets/index.dc35529e.js","assets/index.85df4c51.js"]));let Mt=!0;const ho=()=>{const e=He("white","$neutral3"),{pathname:t}=I(),{handlePathChange:r}=V();let o=t();return ct(dt(t,a=>{qr(),Mt||Xr(),Mt=!1,Gr(o,window.scrollY),r(a),o=a})),n(re,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return n(ht,{get fallback(){return n(De,{})},get children(){return n(Ne,{get children(){return[n(q,{get when(){return x.err},get children(){return n(Pn,{get msg(){return x.err},disableColor:!0})}}),n(q,{get when(){return[F.FetchingObj,F.FetchingObjs].includes(x.state)},get children(){return n(De,{})}}),n(q,{get when(){return x.state===F.NeedPassword},get children(){return n(uo,{})}}),n(q,{get when(){return[F.Folder,F.FetchingMore].includes(x.state)},get children(){return n(lo,{})}}),n(q,{get when(){return x.state===F.File},get children(){return n(co,{})}})]}})}})}})};function Ot(e){const t=He("white","$neutral3"),{proxyLink:r}=Dn(),{pathname:o}=I(),a=he(dt(()=>x.state,()=>{if(![F.FetchingMore,F.Folder,F.File].includes(x.state))return"";if([F.FetchingMore,F.Folder].includes(x.state)){const s=x.objs.find(l=>e.files.find(u=>u.toLowerCase()===l.name.toLowerCase()));if(s)return r(s,!0)}return x[e.fromMeta]&&typeof x[e.fromMeta]=="string"?x[e.fromMeta]:""})),i=async s=>{let l={content:s};return/^https?:\/\//g.test(s)&&(l=await jn(s)),setTimeout(()=>{Jr(o())}),l},[c]=In(a,i);return n(M,{get when(){return a()},get children(){return n(Ee,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return t()},shadow:"$lg",get children(){return n(Ln,{get loading(){return c.loading},get children(){return n(Yt,{get children(){var s;return(s=c())==null?void 0:s.content}})}})}})}})}const cn=e=>{const t=me("home_container");return n(Ne,{get fallback(){return n(Ee,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return n(q,{when:t==="hope_container",get children(){return n(Vn,{get children(){return e.children}})}})}})},go=()=>n(cn,{get children(){return n(re,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[n(Ot,{files:["header.md","top.md"],fromMeta:"header"}),n(so,{}),n(ho,{}),n(Ot,{files:["readme.md","footer.md","bottom.md"],fromMeta:"readme"})]}})}}),fo=Te("<span>|</span>"),mo=()=>{const e=k();return n(re,{class:"footer",w:"$full",py:"$4",get children(){return n(z,{spacing:"$1",get children(){return[n(Bn,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),fo.cloneNode(!0),n(Yr,{as:Zt,get href(){return Ie.is_guest(Le())?"/@login":"/@manage"},get children(){return e(Ie.is_guest(Le())?"login.login":"home.footer.manage")}})]}})}})},Et={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},ye="^\\s*",_e="\\s*$",ie="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",se="([0-9A-Fa-f])",le="([0-9A-Fa-f]{2})",po=new RegExp(`${ye}rgb\\s*\\(${ie},${ie},${ie}\\)${_e}`),bo=new RegExp(`${ye}rgba\\s*\\(${ie},${ie},${ie},${ie}\\)${_e}`),wo=new RegExp(`${ye}#${se}${se}${se}${_e}`),vo=new RegExp(`${ye}#${le}${le}${le}${_e}`),yo=new RegExp(`${ye}#${se}${se}${se}${se}${_e}`),_o=new RegExp(`${ye}#${le}${le}${le}${le}${_e}`);function D(e){return parseInt(e,16)}function un(e){try{let t;if(t=vo.exec(e))return[D(t[1]),D(t[2]),D(t[3]),1];if(t=po.exec(e))return[G(t[1]),G(t[5]),G(t[9]),1];if(t=bo.exec(e))return[G(t[1]),G(t[5]),G(t[9]),Je(t[13])];if(t=wo.exec(e))return[D(t[1]+t[1]),D(t[2]+t[2]),D(t[3]+t[3]),1];if(t=_o.exec(e))return[D(t[1]),D(t[2]),D(t[3]),Je(D(t[4])/255)];if(t=yo.exec(e))return[D(t[1]+t[1]),D(t[2]+t[2]),D(t[3]+t[3]),Je(D(t[4]+t[4])/255)];if(e in Et)return un(Et[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function Co(e){return e>1?1:e<0?0:e}function Tt(e,t,r,o){return`rgba(${G(e)}, ${G(t)}, ${G(r)}, ${Co(o)})`}function At(e,t){const[r,o,a,i=1]=Array.isArray(e)?e:un(e);return t.alpha?Tt(r,o,a,t.alpha):Tt(r,o,a,i)}function Je(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function G(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}const $o={list:ln,grid:an,image:sn},So=()=>{const e=k();return n(mt,{get children(){return[n(gt,{as:zn,get color(){return Se()},get bgColor(){return At(Se(),{alpha:.15})},get _hover(){return{bgColor:At(Se(),{alpha:.2})}},"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return n(Ne,{get children(){return[n(q,{get when(){return Ge()==="list"},get children(){return n(ln,{})}}),n(q,{get when(){return Ge()==="grid"},get children(){return n(an,{})}}),n(q,{get when(){return Ge()==="image"},get children(){return n(sn,{})}})]}})}}),n(ft,{get children(){return n(ve,{get each(){return Object.entries($o)},children:t=>n(ue,{get icon(){return n(Qt,{get component(){return t[1]}})},onSelect:()=>{Hn(t[0])},get children(){return e(`home.layouts.${t[0]}`)}})})}})]}})},We=typeof window<"u"?window.navigator.userAgent:"";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(We);/^((?!chrome|android).)*safari/i.test(We);/MicroMessenger/i.test(We);/MSIE|Trident/i.test(We);var Wt,Kt,Gt;const xo=(Gt=(Kt=(Wt=window==null?void 0:window.navigator)==null?void 0:Wt.platform)!=null?Kt:"")==null?void 0:Gt.includes("Mac"),ko=()=>{const e=me("logo").split(`
`),t=He(e[0],e.pop());return n(en,{class:"header",w:"$full",get children(){return n(cn,{get children(){return n(z,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[n(z,{class:"header-left",h:"44px",get children(){return n(Nn,{get src(){return t()},h:"$full",w:"auto",get fallback(){return n(Un,{})}})}}),n(z,{class:"header-right",spacing:"$2",get children(){return n(M,{get when(){return x.state===F.Folder},get children(){return[n(M,{get when(){return me("search_index")!=="none"},get children(){return n(z,{bg:"$neutral4",w:"$32",p:"$2",rounded:"$md",justifyContent:"space-between",border:"2px solid transparent",cursor:"pointer",_hover:{borderColor:"$info6"},onClick:()=>{p.emit("tool","search")},get children(){return[n(pt,{as:Wr}),n(z,{get children(){return[je(()=>xo?n(Xe,{children:"Cmd"}):n(Xe,{children:"Ctrl"})),n(Xe,{children:"K"})]}})]}})}}),n(So,{})]}})}})]}})}})}})};function Mo(e){return oe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}function Oo(e){return oe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)}function hi(e){return oe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M11 7H6a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-5M10 14L20 4M15 4h5v5"/>'},e)}function Eo(e){return oe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)}function To(e){return oe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)}function Ao(e){return oe({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M11 8v6h1V8h2.5l-3-3-3 3zM1 3h1.5v1H1V3zM3 3h1.5v1H3V3zM5 3h1v1.5H5V3zM1 6.5h1V8H1V6.5zM2.5 7H4v1H2.5V7zM4.5 7H6v1H4.5V7zM1 4.5h1V6H1V4.5zM5 5h1v1.5H5V5zM5 11v3H2v-3h3zm1-1H1v5h5v-5z"/>'},e)}function gi(e){return oe({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"/>'},e)}function Fo(e){return oe({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>'},e)}const J={rename:{icon:Qr,color:"$accent9"},copy:{icon:Oo,color:"$success9"},move:{icon:Eo,color:"$warning9"},delete:{icon:qn,color:"$danger9"},copy_link:{icon:To,color:"$info9"},mkdir:{icon:eo,p:!0},recursive_move:{icon:Ao,p:!0},remove_empty_directory:{icon:Fo,p:!0},batch_rename:{icon:to,p:!0},new_file:{icon:no,p:!0},cancel_select:{icon:ro},download:{icon:Wn,color:"$primary9"}},Be=e=>{const t=Kn.findIndex(o=>o===e.name);if(t!==-1&&!Ie.can(Le(),t))return null;const r=k();return n(tn,{placement:"top",withArrow:!0,get label(){return r(`home.toolbar.${e.name}`)},get children(){return n(pt,pe({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:ut()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){var o;return(o=J[e.name])!=null&&o.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){var o;return(o=J[e.name])==null?void 0:o.icon},get color(){var o;return(o=J[e.name])==null?void 0:o.color}},e))}})},j=e=>{const t=k();return n(tn,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return n(pt,pe({get color(){return Se()},get _hover(){return{bgColor:Se(),color:"white"}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},Ro=()=>{const e=k(),{copySelectedPreviewPage:t,copySelectedRawLink:r}=Gn(),o="neutral";return n(mt,{placement:"top",offset:10,get children(){return[n(gt,{as:Be,name:"copy_link"}),n(ft,{get children(){return[n(ue,{colorScheme:o,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),n(ue,{colorScheme:o,onSelect:()=>{r()},get children(){return e("home.toolbar.down_link")}}),n(ue,{colorScheme:o,onSelect:()=>{r(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},Po=Te("<p></p>"),Do=()=>{const e=k(),t="neutral",{batchDownloadSelected:r,sendToAria2:o}=io();return n(mt,{placement:"top",offset:10,get children(){return[n(gt,{as:Be,name:"download"}),n(ft,{get children(){return[n(ue,{colorScheme:t,onSelect:r,get children(){return e("home.toolbar.batch_download")}}),n(M,{get when(){return Ie.is_admin(Le())||Xn("package_download")},get children(){return n(ue,{colorScheme:t,onSelect:()=>{p.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),n(ue,{colorScheme:t,onSelect:o,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},Io=Me(()=>Oe(()=>import("./PackageDownload.c2a1be6f.js"),["assets/PackageDownload.c2a1be6f.js","assets/index.61cc187c.js","assets/index.15d8d646.css"])),Lo=()=>{const e=k(),t=s=>{s==="package_download"&&o()};p.on("tool",t),O(()=>{p.off("tool",t)});const{isOpen:r,onOpen:o,onClose:a}=E(),[i,c]=U("pre_tips");return n(ne,{blockScrollOnMount:!1,get opened(){return r()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[n(Q,{}),n(ee,{get children(){return[n(X,{get children(){return e("home.toolbar.package_download")}}),n(ht,{get fallback(){return n(De,{})},get children(){return n(M,{get when(){return i()==="pre_tips"},get fallback(){return n(Io,{onClose:a})},get children(){return[n(te,{get children(){const s=Po.cloneNode(!0);return Ue(s,()=>e("home.toolbar.pre_package_download-tips")),s}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),n(R,{colorScheme:"info",onClick:()=>{c("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})};function dn(e,t){e.indexOf(t)===-1&&e.push(t)}function jo(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const hn=(e,t,r)=>Math.min(Math.max(r,e),t),H={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},xe=e=>typeof e=="number",fe=e=>Array.isArray(e)&&!xe(e[0]),Vo=(e,t,r)=>{const o=t-e;return((r-e)%o+o)%o+e};function Bo(e,t){return fe(e)?e[Vo(0,e.length,t)]:e}const gn=(e,t,r)=>-r*e+r*t+e,fn=()=>{},Z=e=>e,wt=(e,t,r)=>t-e===0?1:(r-e)/(t-e);function mn(e,t){const r=e[e.length-1];for(let o=1;o<=t;o++){const a=wt(0,t,o);e.push(gn(r,1,a))}}function zo(e){const t=[0];return mn(t,e-1),t}function Ho(e,t=zo(e.length),r=Z){const o=e.length,a=o-t.length;return a>0&&mn(t,a),i=>{let c=0;for(;c<o-2&&!(i<t[c+1]);c++);let s=hn(0,1,wt(t[c],t[c+1],i));return s=Bo(r,c)(s),gn(e[c],e[c+1],s)}}const pn=e=>Array.isArray(e)&&xe(e[0]),rt=e=>typeof e=="object"&&Boolean(e.createAnimation),ke=e=>typeof e=="function",No=e=>typeof e=="string",Ze={ms:e=>e*1e3,s:e=>e/1e3},bn=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Uo=1e-7,qo=12;function Wo(e,t,r,o,a){let i,c,s=0;do c=t+(r-t)/2,i=bn(c,o,a)-e,i>0?r=c:t=c;while(Math.abs(i)>Uo&&++s<qo);return c}function Ce(e,t,r,o){if(e===t&&r===o)return Z;const a=i=>Wo(i,0,1,e,r);return i=>i===0||i===1?i:bn(a(i),t,o)}const Ko=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const o=r*e,a=t==="end"?Math.floor(o):Math.ceil(o);return hn(0,1,a/e)},Ft={ease:Ce(.25,.1,.25,1),"ease-in":Ce(.42,0,1,1),"ease-in-out":Ce(.42,0,.58,1),"ease-out":Ce(0,0,.58,1)},Go=/\((.*?)\)/;function Rt(e){if(ke(e))return e;if(pn(e))return Ce(...e);if(Ft[e])return Ft[e];if(e.startsWith("steps")){const t=Go.exec(e);if(t){const r=t[1].split(",");return Ko(parseFloat(r[0]),r[1].trim())}}return Z}class Xo{constructor(t,r=[0,1],{easing:o,duration:a=H.duration,delay:i=H.delay,endDelay:c=H.endDelay,repeat:s=H.repeat,offset:l,direction:u="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Z,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((g,h)=>{this.resolve=g,this.reject=h}),o=o||H.easing,rt(o)){const g=o.createAnimation(r);o=g.easing,r=g.keyframes||r,a=g.duration||a}this.repeat=s,this.easing=fe(o)?Z:Rt(o),this.updateDuration(a);const d=Ho(r,l,fe(o)?o.map(Rt):Z);this.tick=g=>{var h;i=i;let y=0;this.pauseTime!==void 0?y=this.pauseTime:y=(g-this.startTime)*this.rate,this.t=y,y/=1e3,y=Math.max(y-i,0),this.playState==="finished"&&this.pauseTime===void 0&&(y=this.totalDuration);const v=y/this.duration;let m=Math.floor(v),_=v%1;!_&&v>=1&&(_=1),_===1&&m--;const C=m%2;(u==="reverse"||u==="alternate"&&C||u==="alternate-reverse"&&!C)&&(_=1-_);const T=y>=this.totalDuration?1:Math.min(_,1),$=d(this.easing(T));t($),this.pauseTime===void 0&&(this.playState==="finished"||y>=this.totalDuration+c)?(this.playState="finished",(h=this.resolve)===null||h===void 0||h.call(this,$)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class Jo{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const Ye=new WeakMap;function wn(e){return Ye.has(e)||Ye.set(e,{transforms:[],values:new Map}),Ye.get(e)}function Zo(e,t){return e.has(t)||e.set(t,new Jo),e.get(t)}const Yo=["","X","Y","Z"],Qo=["translate","scale","rotate","skew"],be={x:"translateX",y:"translateY",z:"translateZ"},Pt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},ea={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:Pt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Z},skew:Pt},we=new Map,Ke=e=>`--motion-${e}`,ze=["x","y","z"];Qo.forEach(e=>{Yo.forEach(t=>{ze.push(e+t),we.set(Ke(e+t),ea[e])})});const ta=(e,t)=>ze.indexOf(e)-ze.indexOf(t),na=new Set(ze),vt=e=>na.has(e),ra=(e,t)=>{be[t]&&(t=be[t]);const{transforms:r}=wn(e);dn(r,t),e.style.transform=vn(r)},vn=e=>e.sort(ta).reduce(oa,"").trim(),oa=(e,t)=>`${e} ${t}(var(${Ke(t)}))`,ot=e=>e.startsWith("--"),Dt=new Set;function aa(e){if(!Dt.has(e)){Dt.add(e);try{const{syntax:t,initialValue:r}=we.has(e)?we.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:r})}catch{}}}const Qe=(e,t)=>document.createElement("div").animate(e,t),It={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Qe({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(Qe({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{Qe({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},et={},ge={};for(const e in It)ge[e]=()=>(et[e]===void 0&&(et[e]=It[e]()),et[e]);const ia=.015,sa=(e,t)=>{let r="";const o=Math.round(t/ia);for(let a=0;a<o;a++)r+=e(wt(0,o-1,a))+", ";return r.substring(0,r.length-2)},Lt=(e,t)=>ke(e)?ge.linearEasing()?`linear(${sa(e,t)})`:H.easing:pn(e)?la(e):e,la=([e,t,r,o])=>`cubic-bezier(${e}, ${t}, ${r}, ${o})`;function ca(e,t){for(let r=0;r<e.length;r++)e[r]===null&&(e[r]=r?e[r-1]:t());return e}const ua=e=>Array.isArray(e)?e:[e];function at(e){return be[e]&&(e=be[e]),vt(e)?Ke(e):e}const $e={get:(e,t)=>{t=at(t);let r=ot(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!r&&r!==0){const o=we.get(t);o&&(r=o.initialValue)}return r},set:(e,t,r)=>{t=at(t),ot(t)?e.style.setProperty(t,r):e.style[t]=r}};function da(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function ha(e,t){var r;let o=(t==null?void 0:t.toDefaultUnit)||Z;const a=e[e.length-1];if(No(a)){const i=((r=a.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";i&&(o=c=>c+i)}return o}function ga(){return window.__MOTION_DEV_TOOLS_RECORD}function fa(e,t,r,o={},a){const i=ga(),c=o.record!==!1&&i;let s,{duration:l=H.duration,delay:u=H.delay,endDelay:d=H.endDelay,repeat:g=H.repeat,easing:h=H.easing,direction:y,offset:v,allowWebkitAcceleration:m=!1}=o;const _=wn(e),C=vt(t);let T=ge.waapi();C&&ra(e,t);const $=at(t),S=Zo(_.values,$),P=we.get($);return da(S.animation,!(rt(h)&&S.generator)&&o.record!==!1),()=>{const N=()=>{var b,A;return(A=(b=$e.get(e,$))!==null&&b!==void 0?b:P==null?void 0:P.initialValue)!==null&&A!==void 0?A:0};let f=ca(ua(r),N);const w=ha(f,P);if(rt(h)){const b=h.createAnimation(f,t!=="opacity",N,$,S);h=b.easing,f=b.keyframes||f,l=b.duration||l}if(ot($)&&(ge.cssRegisterProperty()?aa($):T=!1),C&&!ge.linearEasing()&&(ke(h)||fe(h)&&h.some(ke))&&(T=!1),T){P&&(f=f.map(L=>xe(L)?P.toDefaultUnit(L):L)),f.length===1&&(!ge.partialKeyframes()||c)&&f.unshift(N());const b={delay:Ze.ms(u),duration:Ze.ms(l),endDelay:Ze.ms(d),easing:fe(h)?void 0:Lt(h,l),direction:y,iterations:g+1,fill:"both"};s=e.animate({[$]:f,offset:v,easing:fe(h)?h.map(L=>Lt(L,l)):void 0},b),s.finished||(s.finished=new Promise((L,Ae)=>{s.onfinish=L,s.oncancel=Ae}));const A=f[f.length-1];s.finished.then(()=>{$e.set(e,$,A),s.cancel()}).catch(fn),m||(s.playbackRate=1.000001)}else if(a&&C)f=f.map(b=>typeof b=="string"?parseFloat(b):b),f.length===1&&f.unshift(parseFloat(N())),s=new a(b=>{$e.set(e,$,w?w(b):b)},f,Object.assign(Object.assign({},o),{duration:l,easing:h}));else{const b=f[f.length-1];$e.set(e,$,P&&xe(b)?P.toDefaultUnit(b):b)}return c&&i(e,t,f,{duration:l,delay:u,easing:h,repeat:g,offset:v},"motion-one"),S.setAnimation(s),s}}const ma=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function pa(e,t){var r;return typeof e=="string"?t?((r=t[e])!==null&&r!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function yn(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}const ba={any:0,all:1};function wa(e,t,{root:r,margin:o,amount:a="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const i=pa(e),c=new WeakMap,s=u=>{u.forEach(d=>{const g=c.get(d.target);if(d.isIntersecting!==Boolean(g))if(d.isIntersecting){const h=t(d);ke(h)?c.set(d.target,h):l.unobserve(d.target)}else g&&(g(d),c.delete(d.target))})},l=new IntersectionObserver(s,{root:r,rootMargin:o,threshold:typeof a=="number"?a:ba[a]});return i.forEach(u=>l.observe(u)),()=>l.disconnect()}function va(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!ya(e,t):e!==t}function ya(e,t){const r=t.length;if(r!==e.length)return!1;for(let o=0;o<r;o++)if(t[o]!==e[o])return!1;return!0}function _a(e){return typeof e=="object"}function jt(e,t){if(_a(e))return e;if(e&&t)return t[e]}let Y;function Ca(){if(!Y)return;const e=Y.sort(Sa).map(xa);e.forEach(Vt),e.forEach(Vt),Y=void 0}function tt(e){Y?dn(Y,e):(Y=[e],requestAnimationFrame(Ca))}function $a(e){Y&&jo(Y,e)}const Sa=(e,t)=>e.getDepth()-t.getDepth(),xa=e=>e.animateUpdates(),Vt=e=>e.next(),Bt=(e,t)=>new CustomEvent(e,{detail:{target:t}});function it(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:r}}))}function zt(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:r}}))}const ka={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:r},{inViewOptions:o={}})=>{const{once:a}=o,i=yn(o,["once"]);return wa(e,c=>{if(t(),zt(e,"viewenter",c),!a)return s=>{r(),zt(e,"viewleave",s)}},i)}},Ht=(e,t,r)=>o=>{o.pointerType&&o.pointerType!=="mouse"||(r(),it(e,t,o))},Ma={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:r})=>{const o=Ht(e,"hoverstart",t),a=Ht(e,"hoverend",r);return e.addEventListener("pointerenter",o),e.addEventListener("pointerleave",a),()=>{e.removeEventListener("pointerenter",o),e.removeEventListener("pointerleave",a)}}},Oa={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:r})=>{const o=i=>{r(),it(e,"pressend",i),window.removeEventListener("pointerup",o)},a=i=>{t(),it(e,"pressstart",i),window.addEventListener("pointerup",o)};return e.addEventListener("pointerdown",a),()=>{e.removeEventListener("pointerdown",a),window.removeEventListener("pointerup",o)}}},Re={inView:ka,hover:Ma,press:Oa},Nt=["initial","animate",...Object.keys(Re),"exit"],st=new WeakMap;function Ea(e={},t){let r,o=t?t.getDepth()+1:0;const a={initial:!0,animate:!0},i={},c={};for(const m of Nt)c[m]=typeof e[m]=="string"?e[m]:t==null?void 0:t.getContext()[m];const s=e.initial===!1?"animate":"initial";let l=jt(e[s]||c[s],e.variants)||{},u=yn(l,["transition"]);const d=Object.assign({},u);function*g(){var m,_;const C=u;u={};const T={};for(const f of Nt){if(!a[f])continue;const w=jt(e[f]);if(!!w)for(const b in w)b!=="transition"&&(u[b]=w[b],T[b]=ma((_=(m=w.transition)!==null&&m!==void 0?m:e.transition)!==null&&_!==void 0?_:{},b))}const $=new Set([...Object.keys(u),...Object.keys(C)]),S=[];$.forEach(f=>{var w;u[f]===void 0&&(u[f]=d[f]),va(C[f],u[f])&&((w=d[f])!==null&&w!==void 0||(d[f]=$e.get(r,f)),S.push(fa(r,f,u[f],T[f],Xo)))}),yield;const P=S.map(f=>f()).filter(Boolean);if(!P.length)return;const N=u;r.dispatchEvent(Bt("motionstart",N)),Promise.all(P.map(f=>f.finished)).then(()=>{r.dispatchEvent(Bt("motioncomplete",N))}).catch(fn)}const h=(m,_)=>()=>{a[m]=_,tt(v)},y=()=>{for(const m in Re){const _=Re[m].isActive(e),C=i[m];_&&!C?i[m]=Re[m].subscribe(r,{enable:h(m,!0),disable:h(m,!1)},e):!_&&C&&(C(),delete i[m])}},v={update:m=>{!r||(e=m,y(),tt(v))},setActive:(m,_)=>{!r||(a[m]=_,tt(v))},animateUpdates:g,getDepth:()=>o,getTarget:()=>u,getOptions:()=>e,getContext:()=>c,mount:m=>(r=m,st.set(r,v),y(),()=>{st.delete(r),$a(v);for(const _ in i)i[_]()}),isMounted:()=>Boolean(r)};return v}function Ta(e){const t={},r=[];for(let o in e){const a=e[o];vt(o)&&(be[o]&&(o=be[o]),r.push(o),o=Ke(o));let i=Array.isArray(a)?a[0]:a;const c=we.get(o);c&&(i=xe(a)?c.toDefaultUnit(a):a),t[o]=i}return r.length&&(t.transform=vn(r)),t}const Aa={initial:()=>!0,addCleanup:O,addMount:rn},lt=nn(),_n=nn(Aa);function Fa(e,t,r,o){const{addCleanup:a,addMount:i,initial:c}=r,s=Ea(c()?t():{...t(),initial:!1},o);return i(Jn.bind(void 0,Zn(),()=>{a(s.mount(e())),ct(()=>s.update(t()))})),s}const Ra=/([^:; ]*):\s*([^;]*)/g;function Ut(e){const t={};let r;for(;r=Ra.exec(e);)t[r[1]]=r[2];return t}function Pa(e,t){if(typeof e=="object"&&typeof t=="object")return{...e,...t};if(typeof e=="string"&&typeof t=="string")return`${e};${t}`;const r=typeof e=="object"?e:Ut(e),o=typeof t=="object"?t:Ut(t);return{...r,...o}}const qt=e=>{const[t,,r]=Yn(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),o=Fa(()=>i,()=>({...t}),Ct(_n),Ct(lt)),a=Ta(o.getTarget());let i;return n(lt.Provider,{value:o,get children(){return n(Qt,pe({ref:c=>{var s;i=c,(s=e.ref)==null||s.call(e,c)},get component(){return on(()=>e.tag||"div")},get style(){return je(()=>!!e.style,!0)()?Pa(e.style,a):a},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},r))}})},yt=new Proxy(qt,{get:(e,t)=>r=>(delete r.tag,n(qt,pe(r,{tag:t})))}),Da=e=>(e=Array.isArray(e)?e[0]:e,e instanceof Element?e:void 0),Ia=(e,t)=>{const r={once:!0};e.addEventListener("motioncomplete",t,r),O(e.removeEventListener.bind(e,"motioncomplete",t,r))},La=e=>{let{initial:t=!0}=e;rn(()=>t=!0);let r=!1,o=[],a=[],i=[];return O(()=>{i.concat(a).forEach(c=>c()),a=i=o=[]}),n(_n.Provider,{value:{addCleanup:c=>a.push(c),addMount:c=>o.push(c),initial:()=>t},get children(){return n(lt.Provider,{value:void 0,get children(){return on(()=>{const c=Qn(()=>e.children),s=he(()=>Da(c())),[l,u]=U(),[d,g]=U();return er(dt(s,v=>{i.push(...a),a=[],tr(()=>{e.exitBeforeEnter?(u(),y(()=>!r&&h(v))):(h(v),y())})})),[l,d];function h(v){u(v),o.forEach(m=>m()),o=[]}function y(v){var T;const m=()=>{g(),i.forEach($=>$()),i=[],v==null||v()},_=g((T=l())!=null?T:d());if(!_)return m();const C=st.get(_);if(!C||!C.getOptions().exit)return m();C.setActive("exit",r=!0),Ia(_,()=>{r=!1,m()})}})}})}})},ja=()=>{const e=he(()=>[F.Folder,F.FetchingMore].includes(x.state)&&nr()&&rr());return n(La,{exitBeforeEnter:!0,get children(){return n(M,{get when(){return e()},get children(){return n(Ee,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return yt.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return n(z,{p:"$2",get bgColor(){return He("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[n(ve,{each:["rename","move","copy","delete"],children:t=>n(Be,{name:t,onClick:()=>{p.emit("tool",t)}})}),n(Ro,{}),n(Do,{}),n(Be,{name:"cancel_select",onClick:()=>{or(!1)}})]}})}})}})}})},Va=()=>{const{isOpen:e,onToggle:t}=E({defaultIsOpen:localStorage.getItem("more-open")==="true",onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),r=he(()=>e()?"$4":"$5"),o=he(()=>x.state===F.Folder),{refresh:a}=V();return n(Ee,{class:"left-toolbar-box",pos:"fixed",get right(){return r()},get bottom(){return r()},get children(){return n(M,{get when(){return e()},get fallback(){return n(j,{class:"toolbar-toggle",as:kt,onClick:()=>{t()}})},get children(){return n(re,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return yt.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[n(re,{spacing:"$1",class:"left-toolbar-in",get children(){return[n(M,{get when(){return je(()=>!!o(),!0)()&&($t("write")||x.write)},get children(){return[n(j,{as:Zr,tips:"refresh",onClick:()=>{a(void 0,!0)}}),n(j,{get as(){return J.new_file.icon},tips:"new_file",onClick:()=>{p.emit("tool","new_file")}}),n(j,{get as(){return J.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{p.emit("tool","mkdir")}}),n(j,{get as(){return J.recursive_move.icon},tips:"recursive_move",onClick:()=>{p.emit("tool","recursiveMove")}}),n(j,{get as(){return J.remove_empty_directory.icon},tips:"remove_empty_directory",onClick:()=>{p.emit("tool","removeEmptyDirectory")}}),n(j,{get as(){return J.batch_rename.icon},tips:"batch_rename",onClick:()=>{p.emit("tool","batchRename")}}),n(j,{as:ar,tips:"upload",onClick:()=>{p.emit("tool","upload")}})]}}),n(M,{get when(){return je(()=>!!o(),!0)()&&$t("offline_download")},get children(){return n(j,{as:ir,pl:"0",tips:"offline_download",onClick:()=>{p.emit("tool","offline_download")}})}}),n(j,{tips:"toggle_checkbox",as:Mo,onClick:sr}),n(j,{as:lr,tips:"local_settings",onClick:()=>{p.emit("tool","local_settings")}})]}}),n(j,{tips:"more",as:kt,onClick:t})]}})}})}})},Ba=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=W(cr),{pathname:i}=I(),{refresh:c}=V(),s=l=>{l==="copy"&&t()};return p.on("tool",s),O(()=>{p.off("tool",s)}),n(bt,{get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async l=>{const u=await a(i(),l,ce().map(d=>d.name));K(u,()=>{c(),r()})}})},za=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=W(ur),{pathname:i}=I(),{refresh:c}=V(),s=l=>{l==="move"&&t()};return p.on("tool",s),O(()=>{p.off("tool",s)}),n(bt,{get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async l=>{const u=await a(i(),l,ce().map(d=>d.name));K(u,()=>{c(),r()})}})},Ha=Te("<p></p>"),Na=()=>{const e=k(),{isOpen:t,onOpen:r,onClose:o}=E(),[a,i]=W(dr),{refresh:c}=V(),{pathname:s}=I(),l=u=>{u==="delete"&&r()};return p.on("tool",l),O(()=>{p.off("tool",l)}),n(ne,{blockScrollOnMount:!1,get opened(){return t()},onClose:o,size:{"@initial":"xs","@md":"md"},get children(){return[n(Q,{}),n(ee,{get children(){return[n(X,{get children(){return e("home.toolbar.delete")}}),n(te,{get children(){const u=Ha.cloneNode(!0);return Ue(u,()=>e("home.toolbar.delete-tips")),u}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),n(R,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const u=await i(s(),ce().map(d=>d.name));K(u,()=>{c(),o()})},get children(){return e("global.confirm")}})]}})]}})]}})},Ua=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),o=k(),[a,i]=W(hr),{pathname:c}=I(),{refresh:s}=V(),l=u=>{if(u==="rename"){if(!gr()){B.warning(o("home.toolbar.only_one-tips"));return}t()}};return p.on("tool",l),O(()=>{p.off("tool",l)}),n(M,{get when(){return e()},get children(){return n(qe,{title:"home.toolbar.input_new_name",get isRenamingFile(){return!ce()[0].is_dir},get opened(){return e()},onClose:r,get defaultValue(){var u,d;return(d=(u=ce()[0])==null?void 0:u.name)!=null?d:""},get loading(){return a()},onSubmit:async u=>{const d=await i(ae(c(),ce()[0].name),u);K(d,()=>{s(),r()})}})}})},qa=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=W(fr),{refresh:i}=V(),{pathname:c}=I(),s=l=>{l==="new_file"&&t()};return p.on("tool",s),O(()=>{p.off("tool",s)}),n(qe,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async l=>{const u=await a(ae(c(),l),Jt());K(u,()=>{i(),r()})}})},Wa=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=W(mr),{pathname:i}=I(),{refresh:c}=V(),s=l=>{l==="mkdir"&&t()};return p.on("tool",s),O(()=>{p.off("tool",s)}),n(qe,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async l=>{const u=await a(ae(i(),l));K(u,()=>{c(),r()})}})},Ka=Te("<p></p>"),Ga=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),{isOpen:o,onOpen:a,onClose:i}=E(),[c,s]=W(pr),{pathname:l}=I(),{refresh:u}=V(),d=h=>{h==="recursiveMove"&&t()};p.on("tool",d),O(()=>{p.off("tool",d)});const g=k();return[n(ne,{blockScrollOnMount:!1,get opened(){return e()},onClose:()=>r(),size:{"@initial":"xs","@md":"md"},get children(){return[n(Q,{}),n(ee,{get children(){return[n(X,{get children(){return g("home.toolbar.recursive_move")}}),n(te,{get children(){const h=Ka.cloneNode(!0);return Ue(h,()=>g("home.toolbar.recursive_move_directory-tips")),h}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{onClick:()=>r(),colorScheme:"neutral",get children(){return g("global.cancel")}}),n(R,{onClick:()=>{r(),a()},colorScheme:"danger",get children(){return g("global.confirm")}})]}})]}})]}}),n(bt,{get opened(){return o()},onClose:i,get loading(){return c()},onSubmit:async h=>{const y=await s(l(),h);K(y,()=>{u(),i()})}})]},Xa=Te("<p></p>"),Ja=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),{pathname:o}=I(),[a,i]=W(br),{refresh:c}=V(),s=u=>{u==="removeEmptyDirectory"&&t()};p.on("tool",s),O(()=>{p.off("tool",s)});const l=k();return n(ne,{blockScrollOnMount:!1,get opened(){return e()},onClose:r,size:{"@initial":"xs","@md":"md"},get children(){return[n(Q,{}),n(ee,{get children(){return[n(X,{get children(){return l("home.toolbar.remove_empty_directory")}}),n(te,{get children(){const u=Xa.cloneNode(!0);return Ue(u,()=>l("home.toolbar.remove_empty_directory-tips")),u}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{onClick:r,colorScheme:"neutral",get children(){return l("global.cancel")}}),n(R,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const u=await i(o());K(u,()=>{c(),r()})},get children(){return l("global.confirm")}})]}})]}})]}})},Za=e=>n(yt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return n(z,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:ut()}},get children(){return[n(Ve,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.src_name},get children(){return e.obj.src_name}}),n(Ve,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.new_name},get children(){return e.obj.new_name}})]}})}}),Ya=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),{isOpen:o,onOpen:a,onClose:i}=E(),[c,s]=W(wr),{pathname:l}=I(),{refresh:u}=V(),[d,g]=U("1"),[h,y]=U(""),[v,m]=U(""),[_,C]=U("string"),[T,$]=U([]),S=k(),P=()=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:"left",cursor:"pointer"}),N=w=>{w==="batchRename"&&a()};p.on("tool",N),O(()=>{p.off("tool",N)});const f=()=>{if(!h()||!v()){B.warning(S("global.empty_input"));return}const w=new RegExp(h(),"g");let b;if(d()==="1")b=x.objs.filter(A=>A.name.match(h())).map(A=>({src_name:A.name,new_name:A.name.replace(w,v())}));else{let A=v();b=x.objs.map(L=>{let Ae="";const _t=L.name.lastIndexOf(".");_t!==-1&&(Ae=L.name.substring(_t+1));const Cn={src_name:L.name,new_name:h()+A+"."+Ae};return A=(parseInt(A)+1).toString().padStart(A.length,"0"),Cn})}$(b),t(),i()};return[n(ne,{blockScrollOnMount:!1,get opened(){return o()},onClose:i,initialFocus:"#modal-input1",size:{"@initial":"xs","@md":"md"},get children(){return[n(Q,{}),n(ee,{get children(){return[n(M,{get when(){return d()==="1"},get children(){return n(X,{get children(){return S("home.toolbar.regular_rename")}})}}),n(M,{get when(){return d()==="2"},get children(){return n(X,{get children(){return S("home.toolbar.sequential_renaming_desc")}})}}),n(te,{get children(){return[n(vr,{defaultValue:"1",style:{margin:"20px 0"},onChange:w=>{g(w),w==="1"?C("string"):w==="2"&&C("number")},get children(){return n(z,{spacing:"$4",get children(){return[n(St,{value:"1",get children(){return S("home.toolbar.regex_rename")}}),n(St,{value:"2",get children(){return S("home.toolbar.sequential_renaming")}})]}})}}),n(re,{spacing:"$2",get children(){return[n(Pe,{id:"modal-input1",type:"string",get value(){return h()},onInput:w=>{y(w.currentTarget.value)},onKeyDown:w=>{w.key==="Enter"&&f()}}),n(Pe,{id:"modal-input2",get type(){return _()},get value(){return v()},onInput:w=>{m(w.currentTarget.value)},onKeyDown:w=>{w.key==="Enter"&&f()}})]}})]}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{onClick:()=>{g("1"),C("string"),i()},colorScheme:"neutral",get children(){return S("global.cancel")}}),n(R,{onClick:()=>f(),get disabled(){return!h()||!v()},get children(){return S("global.ok")}})]}})]}})]}}),n(ne,{size:"xl",get opened(){return e()},onClose:r,get children(){return[n(Q,{}),n(ee,{get children(){return[n(X,{get children(){return S("home.toolbar.regex_rename_preview")}}),n(te,{get children(){return n(re,{class:"list",w:"$full",spacing:"$1",get children(){return[n(z,{class:"title",w:"$full",p:"$2",get children(){return[n(Ve,pe({w:{"@initial":"50%","@md":"50%"}},P,{get children(){return S("home.toolbar.regex_rename_preview_old_name")}})),n(Ve,pe({w:{"@initial":"50%","@md":"50%"}},P,{get children(){return S("home.toolbar.regex_rename_preview_new_name")}}))]}}),n(ve,{get each(){return T()},children:(w,b)=>n(Za,{obj:w,get index(){return b()}})})]}})}}),n(de,{display:"flex",gap:"$2",get children(){return[n(R,{onClick:()=>{$([]),g("1"),C("string"),r(),i()},colorScheme:"neutral",get children(){return S("global.cancel")}}),n(R,{onClick:()=>{$([]),r(),a()},colorScheme:"neutral",get children(){return S("global.back")}}),n(R,{get loading(){return c()},onClick:async()=>{const w=await s(l(),T());K(w,()=>{$([]),y(""),m(""),g("1"),C("string"),u(),i(),r()})},get disabled(){return T().length==0},get children(){return S("global.ok")}})]}})]}})]}})]},Qa=()=>{const e=k(),[t,r]=U("aria2"),{isOpen:o,onOpen:a,onClose:i}=E(),[c,s]=W(yr),{pathname:l}=I(),u=d=>{d==="offline_download"&&a()};return p.on("tool",u),O(()=>{p.off("tool",u)}),n(qe,{title:"home.toolbar.offline_download",type:"text",get opened(){return o()},onClose:i,get loading(){return c()},get tips(){return e("home.toolbar.offline_download-tips")},get topSlot(){return n(Ee,{mb:"$2",get children(){return n(_r,{get value(){return t()},onChange:d=>r(d),options:[{value:"aria2",label:"Aria2"},{value:"qbit",label:"qBittorrent"}]})}})},onSubmit:async d=>{const g=await s(l(),d.split(`
`),t());K(g,()=>{i()})}})},ei=e=>{const t=k(),r=c=>{c===e.name&&a()};p.on("tool",r),O(()=>{p.off("tool",r)});const{isOpen:o,onOpen:a,onClose:i}=E();return n(ne,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return o()},onClose:i,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[n(Q,{}),n(ee,{get children(){return[n(Cr,{}),n(X,{get children(){return t(e.title)}}),n(te,{get children(){return n(M,{get when(){return o()},get children(){return n(ht,{get fallback(){return n(De,{})},get children(){return e.children}})}})}})]}})]}})};function ti(e){const t=k();return n(Nr,{get children(){return[n(Fr,{get children(){return t(`home.local_settings.${e.key}`)}}),n(Ne,{get fallback(){return n(Pe,{get value(){return nt[e.key]},onInput:r=>{xt(e.key,r.currentTarget.value)}})},get children(){return n(q,{get when(){return e.type==="select"},get children(){return n(Rr,{get id(){return e.key},get defaultValue(){return nt[e.key]},onChange:r=>xt(e.key,r),get children(){return[n(Pr,{get children(){return[n(Dr,{get children(){return t("global.choose")}}),n(Ir,{}),n(Lr,{})]}}),n(jr,{get children(){return n(Vr,{get children(){return n(ve,{get each(){return e.options},children:r=>n(Br,{value:r,get children(){return[n(zr,{get children(){return t(`home.local_settings.${e.key}_options.${r}`)}}),n(Hr,{})]}})})}})}})]}})}})}})]}})}const ni=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),o=k(),a=i=>{i==="local_settings"&&t()};return p.on("tool",a),O(()=>{p.off("tool",a)}),n(Ar,{get opened(){return e()},placement:"right",onClose:r,get children(){return[n($r,{}),n(Sr,{get children(){return[n(xr,{}),n(kr,{color:"$info9",get children(){return o("home.toolbar.local_settings")}}),n(Mr,{get children(){return[n(re,{spacing:"$2",get children(){return n(ve,{each:Or,children:i=>n(ti,i)})}}),n(en,{mt:"$4",get children(){return n(z,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[n(Er,{}),n(Tr,{})]}})}})]}})]}})]}})},ri=Me(()=>Oe(()=>import("./Upload.946aef03.js"),["assets/Upload.946aef03.js","assets/index.61cc187c.js","assets/index.15d8d646.css","assets/index.dc35529e.js"])),oi=()=>[n(Ba,{}),n(za,{}),n(Ua,{}),n(Na,{}),n(qa,{}),n(Wa,{}),n(Ga,{}),n(Ja,{}),n(Ya,{}),n(Qa,{}),n(Lo,{}),n(ei,{name:"upload",title:"home.toolbar.upload",get children(){return n(ri,{})}}),n(ni,{})],ai=()=>n(Ur,{get children(){return[n(Va,{}),n(ja,{}),n(oi,{})]}}),ii=()=>{Kr(me("site_title"));const e=me("announcement");return e&&B.render(()=>n(Yt,{children:e})),[n(ko,{}),n(ai,{}),n(go,{}),n(mo,{})]},fi=Object.freeze(Object.defineProperty({__proto__:null,default:ii},Symbol.toStringTag,{value:"Module"}));export{gi as I,fi as L,yt as M,hi as T,xo as i,J as o,io as u};
